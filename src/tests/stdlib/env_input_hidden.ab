import * from "std/env"
import { temp_dir_create } from "std/fs"

// Output
// Hello, Amber

main {
    const tmpdir = temp_dir_create("amber-input-test-XXXX", true, true)?
    let test_file = "{tmpdir}/test_input"
    trust $ echo "Amber" >> {test_file} $
    trust $ exec 0< {test_file} $
    let name = input_hidden("Please enter your name:")
    echo "Hello, " + name
}
