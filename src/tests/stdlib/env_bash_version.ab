import { bash_version } from "std/env"
import { join } from "std/text"

#[allow_absurd_cast]
fun bash_version_to_text(arr: [Int]): Text {
    return join(arr as [Text], " ")
}

main {
    const version = bash_version()
    const bash_verinfo = trust $ echo \$\{BASH_VERSINFO[@]:0:3} $

    if bash_verinfo == bash_version_to_text(version) {
        echo "Succeeded"
    } else {
        echo "Bash versions are not matching {version} vs {bash_verinfo}"
    }
}
